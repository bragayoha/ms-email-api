"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Seeder_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Lucid/Seeder"));
const User_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/User"));
const Role_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Role"));
class default_1 extends Seeder_1.default {
    async run() {
        const searchKeyAdmin = { email: 'admin@example.com' };
        const userAdmin = await User_1.default.updateOrCreate(searchKeyAdmin, {
            cpf: '00000000000',
            name: 'admin',
            email: 'admin@example.com',
            password: 'test123',
        });
        const searchKeyPlayer = { email: 'player@example.com' };
        const userPlayer = await User_1.default.updateOrCreate(searchKeyPlayer, {
            cpf: '00000000001',
            name: 'player',
            email: 'player@example.com',
            password: 'test123',
        });
        const roleAdmin = await Role_1.default.findBy('name', 'admin');
        const rolePlayer = await Role_1.default.findBy('name', 'player');
        if (roleAdmin && rolePlayer)
            await userAdmin.related('roles').attach([roleAdmin.id, rolePlayer.id]);
        if (rolePlayer)
            await userPlayer.related('roles').attach([rolePlayer.id]);
    }
}
exports.default = default_1;
default_1.developmentOnly = true;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlVzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx1RkFBaUQ7QUFFakQsaUZBQWtDO0FBQ2xDLGlGQUFrQztBQUVsQyxlQUFxQixTQUFRLGdCQUFVO0lBRzlCLEtBQUssQ0FBQyxHQUFHO1FBQ2QsTUFBTSxjQUFjLEdBQUcsRUFBRSxLQUFLLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQTtRQUNyRCxNQUFNLFNBQVMsR0FBRyxNQUFNLGNBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxFQUFFO1lBQzFELEdBQUcsRUFBRSxhQUFhO1lBQ2xCLElBQUksRUFBRSxPQUFPO1lBQ2IsS0FBSyxFQUFFLG1CQUFtQjtZQUMxQixRQUFRLEVBQUUsU0FBUztTQUNwQixDQUFDLENBQUE7UUFFRixNQUFNLGVBQWUsR0FBRyxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxDQUFBO1FBQ3ZELE1BQU0sVUFBVSxHQUFHLE1BQU0sY0FBSSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUU7WUFDNUQsR0FBRyxFQUFFLGFBQWE7WUFDbEIsSUFBSSxFQUFFLFFBQVE7WUFDZCxLQUFLLEVBQUUsb0JBQW9CO1lBQzNCLFFBQVEsRUFBRSxTQUFTO1NBQ3BCLENBQUMsQ0FBQTtRQUVGLE1BQU0sU0FBUyxHQUFHLE1BQU0sY0FBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDcEQsTUFBTSxVQUFVLEdBQUcsTUFBTSxjQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQTtRQUV0RCxJQUFJLFNBQVMsSUFBSSxVQUFVO1lBQ3pCLE1BQU0sU0FBUyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ3hFLElBQUksVUFBVTtZQUFFLE1BQU0sVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtJQUMzRSxDQUFDOztBQTFCSCw0QkEyQkM7QUExQmUseUJBQWUsR0FBRyxJQUFJLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVNlZWRlciBmcm9tICdAaW9jOkFkb25pcy9MdWNpZC9TZWVkZXInXG5cbmltcG9ydCBVc2VyIGZyb20gJ0FwcC9Nb2RlbHMvVXNlcidcbmltcG9ydCBSb2xlIGZyb20gJ0FwcC9Nb2RlbHMvUm9sZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBCYXNlU2VlZGVyIHtcbiAgcHVibGljIHN0YXRpYyBkZXZlbG9wbWVudE9ubHkgPSB0cnVlXG5cbiAgcHVibGljIGFzeW5jIHJ1bigpIHtcbiAgICBjb25zdCBzZWFyY2hLZXlBZG1pbiA9IHsgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScgfVxuICAgIGNvbnN0IHVzZXJBZG1pbiA9IGF3YWl0IFVzZXIudXBkYXRlT3JDcmVhdGUoc2VhcmNoS2V5QWRtaW4sIHtcbiAgICAgIGNwZjogJzAwMDAwMDAwMDAwJyxcbiAgICAgIG5hbWU6ICdhZG1pbicsXG4gICAgICBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAndGVzdDEyMycsXG4gICAgfSlcblxuICAgIGNvbnN0IHNlYXJjaEtleVBsYXllciA9IHsgZW1haWw6ICdwbGF5ZXJAZXhhbXBsZS5jb20nIH1cbiAgICBjb25zdCB1c2VyUGxheWVyID0gYXdhaXQgVXNlci51cGRhdGVPckNyZWF0ZShzZWFyY2hLZXlQbGF5ZXIsIHtcbiAgICAgIGNwZjogJzAwMDAwMDAwMDAxJyxcbiAgICAgIG5hbWU6ICdwbGF5ZXInLFxuICAgICAgZW1haWw6ICdwbGF5ZXJAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICd0ZXN0MTIzJyxcbiAgICB9KVxuXG4gICAgY29uc3Qgcm9sZUFkbWluID0gYXdhaXQgUm9sZS5maW5kQnkoJ25hbWUnLCAnYWRtaW4nKVxuICAgIGNvbnN0IHJvbGVQbGF5ZXIgPSBhd2FpdCBSb2xlLmZpbmRCeSgnbmFtZScsICdwbGF5ZXInKVxuXG4gICAgaWYgKHJvbGVBZG1pbiAmJiByb2xlUGxheWVyKVxuICAgICAgYXdhaXQgdXNlckFkbWluLnJlbGF0ZWQoJ3JvbGVzJykuYXR0YWNoKFtyb2xlQWRtaW4uaWQsIHJvbGVQbGF5ZXIuaWRdKVxuICAgIGlmIChyb2xlUGxheWVyKSBhd2FpdCB1c2VyUGxheWVyLnJlbGF0ZWQoJ3JvbGVzJykuYXR0YWNoKFtyb2xlUGxheWVyLmlkXSlcbiAgfVxufVxuIl19